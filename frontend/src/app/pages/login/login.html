<div class="auth-shell">
  <div class="auth-frame">
    <section class="brand-side">
      <div class="logo">
        <img src="assets/images/icon.png" alt="CaniTech logo" width="48" height="48" />
        <span>CaniTech</span>
      </div>

      <h1 class="hello">Olá,<br />Bem vindo!</h1>
      <p class="subtitle">
        Bem-vindo ao CaniTech — Cuidando do seu melhor amigo com tecnologia e carinho
      </p>

      <div class="dots" aria-hidden="true"></div>
    </section>

    <aside class="form-card">
      <div class="form-logo">
        <img src="assets/images/canitech-logo.png" alt="CaniTech logo" width="256" height="256" />
      </div>

      <form class="form" [formGroup]="form" (ngSubmit)="submit()">
        <label class="field">
          <input
            class="input"
            type="email"
            formControlName="email"
            placeholder="Email"
            autocomplete="email"
          />
          <div class="error" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
            <small *ngIf="form.get('email')?.errors?.['required']">Email é obrigatório.</small>
            <small *ngIf="form.get('email')?.errors?.['email']">Email inválido.</small>
          </div>
        </label>

        <label class="field">
          <input
            class="input"
            type="password"
            formControlName="password"
            placeholder="Senha"
            autocomplete="current-password"
          />
          <div class="error" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
            <small>Senha é obrigatória.</small>
          </div>
        </label>

        <div class="api-error" *ngIf="apiError">
          <small>{{ apiError }}</small>
        </div>

        <div class="actions">
          <button class="btn btn-primary" type="submit" [disabled]="loading">
            <span *ngIf="!loading">Entrar</span>
            <span *ngIf="loading">Entrando...</span>
          </button>
          <button class="btn btn-secondary" type="button" (click)="goToRegister()" [disabled]="loading">
            Criar conta
          </button>
        </div>
      </form>
    </aside>
  </div>
</div>
